<script>
document.getElementById('updateForm').addEventListener('submit', function(event) {
  event.preventDefault();

  const assignments = document.getElementById('assignments').value.trim();
  const reminders = document.getElementById('reminders').value.trim();
  const messages = document.getElementById('messages').value.trim();

  const data = new URLSearchParams({
    assignments: assignments,
    reminders: reminders,
    messages: messages
  });

  fetch('https://script.google.com/macros/s/AKfycbwj1ykwhKo094pKKpgHjHvyfCQLcCTg6znj-BD6nbjvW6Pe5zf0MVHvDcGi2AuYpFDb/exec', {
    method: 'POST',
    mode: 'no-cors',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded'
    },
    body: data
  });

  alert("Your updates have been successfully submitted! ðŸŽ‰");
  document.getElementById('updateForm').reset();
});

document.getElementById('chatSend').addEventListener('click', function() {
  const message = document.getElementById('chatInput').value.trim();

  if (message !== "") {
    const chatBox = document.getElementById('chatBox');
    const userMsgDiv = document.createElement('div');
    userMsgDiv.className = 'bg-green-100 rounded p-2 text-sm mb-2';
    userMsgDiv.textContent = message;

    chatBox.appendChild(userMsgDiv);
    chatBox.scrollTop = chatBox.scrollHeight;

    const chatData = new URLSearchParams({ chatMessage: message });

    fetch('https://script.google.com/macros/s/AKfycbwLhBxC4zciNjaVMIDOkZsl3BeVuY2ajX9ghIbU0mFVdxowtf4fLjDiFBg4tKzHEKGc/exec', {
      method: 'POST',
      mode: 'no-cors',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: chatData
    });

    document.getElementById('chatInput').value = "";
  }
});
</script>
